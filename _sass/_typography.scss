// why? relative to _sass directory (jekyll default)
@import 'modularscale/modularscale';

// https://www.modularscale.com/
$modularscale: (
  base: 1em,
  ratio: 1.2
);

// for vertical rhythm
$base-font-size: 20px;
$line-height: 1.5;
$leading: $base-font-size * $line-height;

h1, h2, h3, h4, h5, h6,
p, blockquote, pre,
ul, ol, dl, figure {
  line-height: $leading;
  margin-bottom: $leading;
}
h2, h3 { 
  margin-bottom: $leading / 2;
}
h4, h5, h6 {
  margin-bottom: $leading / 3;
}

hr {
  margin-bottom: $leading;
  margin-top: $leading;
}

$base-font-family-body: 'Ovo', Georgia, serif;
$base-font-family-headings: 'Ovo', Georgia, serif;

body {
  font-family: $base-font-family-body !important;

  font-size: $base-font-size !important;

  font-weight: 400 !important;

  letter-spacing: normal;

  line-height: $line-height !important;
}

h1, h2, h3, h4, h5, h6 {
  color: $color-primary-8;

  font-family: $base-font-family-headings !important;

  // font-size: set individually

  font-weight: 700 !important;

  // letter-spacing: set individually

  // line-height: set individually
}

// why? headings follow type scale
h1 { font-size: ms(5) !important; }
h2 { font-size: ms(4) !important; }
h3 { font-size: ms(3) !important; }
h4 { font-size: ms(2) !important; }
h5 { font-size: ms(1) !important; }
h6 { font-size: ms(0) !important; }

// why? headings adjust line height
h1 { line-height: 1.0 !important; }
h2 { line-height: 1.0 !important; }
h3 { line-height: 1.1 !important; }
h4 { line-height: 1.2 !important; }
h5 { line-height: 1.3 !important; }
h6 { line-height: 1.4 !important; }

// why? headings adjust letter spacing
h1 { letter-spacing: -1px !important; }
h2 { letter-spacing: -1px !important; }
h3 { letter-spacing: -1px !important; }
h4 { letter-spacing: -1px !important; }
h5 { letter-spacing: -1px !important; }
h6 { letter-spacing: -1px !important; }

// why? headings adjust letter spacing
h1 { margin-top: $leading * 2.0 !important; }
h2 { margin-top: $leading * 2.0 !important; }
h3 { margin-top: $leading * 1.5 !important; }
h4 { margin-top: $leading * 1.5 !important; }
h5 { margin-top: $leading * 1.0 !important; }
h6 { margin-top: $leading * 1.0 !important; }

h1:first-of-type {
  margin-top: $leading / 2 !important;
}

blockquote {
  border-left: 3px solid $color-primary-2;
  color: $color-neutral-2;

  letter-spacing: normal;
  font-size: ms(0);
  font-style: normal;

  padding-left: 1rem;
  position: relative;
  margin-left: 0.5rem;
}
// blockquote p:first-child:first-letter {
//   float: left;
//   font-size: ms(5);
//   font-weight: 700;
//   line-height: 1;
//   padding-left: 3px;
//   padding-right: 9px;
//   padding-top: 9px;
// }

// adapted from https://webdevtrick.com/stylish-css-blockquote/
blockquote:before {
  background-color: $color-lighest;
  content: "";
  height: 2em;
  left: -4px;
  margin-top: -1em;
  position: absolute;
  top: 50%;
  width: 5px;
}
blockquote:after {
  content: "â€œ";
  position: absolute;
  top: 50%;
  color: $color-primary-8;
  left: 0;
  text-align: center;
  text-indent: -2rem;
  width: 1rem;
  margin-top: 0.5rem;
  font-size: 5rem;
}

@media (min-width: 768px) {
  blockquote {
    padding-left: 1rem;
    margin-left: -1rem;
  }
}

mark {
  background-color: $color-primary-4;
  color: $color-lighest;
  padding-inline: 0.5rem;
}





.case_study {
  display: flex;
  flex-direction: column;
  gap: $leading / 3;
  margin-bottom: $leading * 3;
  margin-top: $leading;

  a, 
  .summary {
    flex: 50%;
  }

  & > a {
    border-bottom: none !important;
  }

  .summary {
    h2 {
      margin-top: $leading / 2 !important;
      margin-bottom: $leading / 2;
    }
    p {
      margin-bottom: $leading / 2;
    }
    a {
      display: inline-block;
    }
  }
}

@media (min-width: 768px) {
  .case_study {
    flex-direction: row;
    gap: $leading;
  }
}



.decision {
  font-variant-caps: all-small-caps;
}



pre {
  overflow-x: auto;
  padding: 12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

pre,
code {
  background-color: $color-neutral-0;
  border-top: 1px solid $color-primary-1;
  color: $color-primary-8;
}





.centered {
  text-align: center;
}

.offset-top {
  margin-top: $leading;
}

a[name] {
  // why? adjust anchors for fixed header - solution 2 from https://www.wikitechy.com/technology/css-offsetting-html-anchor-adjust-fixed-header/
  display: block;
  position: relative;
  top: -($leading * 2);
  visibility: hidden;
}





// why? only target mobile tables
// https://css-tricks.com/responsive-data-tables/
@media only screen and (max-width: 768px) {
  /* why? Force table to not be like tables anymore */
  table, thead, tbody, th, td, tr {
    display: block;
  }

  // why? hide excessive page breaks for formatting
  table br {
    display: none;
  }

  /* Hide table headers (but not display: none;, for accessibility) */
  thead tr {
    position: absolute;
    top: -9999px;
    left: -9999px;
  }

  // why? space out jobs (every two rows) from each other
  .resume-items tr:nth-of-type(even) {
    margin-bottom: $leading;
  }

  td:empty {
    display: none;
  }

  td:first-of-type {
    background-color: $color-primary-8;
    color: $color-lighest;
  }

  td {
    /* why? Behave like a "row" */
    border: none;
    border-bottom: 1px solid $color-neutral-0;
  }
}
